{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "src/InputValidation.js",
    "src/PotDisplayController.js",
    "src/PotInputController.js",
    "src/PottingController.js",
    "src/PottingData.js",
    "src/PottingResponse.js",
    "src/PottingSet.js",
    "src/PottingSetList.js",
    "src/Tabs.js",
    "src/Utils.js",
    "src/ViewController.js",
    "src/app.js",
    "src/data/PottingResult.js",
    "src/data/Terminal.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "(function(){\n\n\tvar Utils \t\t\t= require(\"./Utils.js\");\n\tvar _allowedKeys \t= [ 8,9,13,27,35,37,38,39,40,45,46 ]; //backspace, delete, insert, home, end\n\n\tmodule.exports.parseInput \t\t= parseInput;\n\tmodule.exports.isAllowedInput \t= isAllowedInput;\n\n\tfunction isAllowedInput( inputEvt )\n\t{\t\n\t\tvar keyChar \t\t= String.fromCharCode( inputEvt.which );\n\n\t\tconsole.log( keyChar );\n\t\tvar allowedChars \t= \"0123456789 /\";\n\n\t\tvar isSpecialKey = function( keyCode )\n\t\t{\n\t\t\treturn keyCode === inputEvt.keyCode;\n\t\t};\n\n\t\t//prevent second / character being input\n\t\tif ( inputEvt.target.value.indexOf('/') >= 0 )\n\t\t{\n\t\t\tallowedChars  = \"0123456789 \";\n\t\t}\n\n\t\treturn _allowedKeys.some( isSpecialKey ) || allowedChars.indexOf( keyChar ) !== -1;\n\t}\n\n\tfunction parseInput( inputValue )\n\t{\n\t\tvar checker;\n\n\t\tvar numInputs = inputValue.split(\" \").length;\n\n\t\tif ( inputValue.indexOf('/') !== -1 )\n\t\t{\t\n\t\t\tchecker = parseValueAndSplits;\n\t\t}\n\t\telse if ( numInputs > 1  && inputValue.length > 2 )\n\t\t{\n\t\t\tchecker =  parseSplits;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tchecker = parseValue;\n\t\t}\n\n\t\treturn checker( inputValue );\n\t}\n\n\t\n\n\n\tfunction parseValue( value )\n\t{\n\t\tvar _isValid \t= false;\n\t\tvar _value \t\t= validate( value );\n\n\t\treturn { \tisValid: _isValid,\n\t\t\t\t\ttype: \t\"total\",\n\t\t\t\t\tamount:_value };\n\n\n\t\tfunction validate( amount )\n\t\t{\n\t\t\tif ( isNaN( parseInt( amount ) ))\n\t\t\t{\n\t\t\t\t_isValid = false;\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\t_isValid = true;\n\n\t\t\treturn Utils.potifyNumber( amount );\n\t\t}\n\t}\n\n\tfunction parseSplits( inputValue )\n\t{\n\t\tvar data \t\t= {};\n\t\tdata.pots \t\t= parseSpaces( inputValue );\n\t\tdata.amount \t= 0;\n\t\tdata.hasPotting\t= data.pots.length > 0;\n\n\t\tdata.pots = data.pots.map ( function( potSplit )\n\t\t{\n\t\t\tdata.amount += potSplit.amount;\n\t\t\treturn potSplit.amount;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tfunction parseValueAndSplits( inputValue )\n\t{\n\t\tvar separated \t= inputValue.split(\"/\");\n\t\tvar data \t\t= {};\n\t\tvar total \t\t= separated[ 0 ];\n\t\tvar splits \t\t= separated[ 1 ];\n\n\t\t//if multiple entries before / then only take the first one\n\t\tvar leftSide \t= removeSpaces( total )[0];\n\t\tvar rightSide \t= parseSplits( splits  );\n\t\t\n\t\tdata.amount \t= leftSide.amount;\n\t\tdata.potTotal \t= rightSide.amount;\n\t\tdata.pots \t\t= rightSide.pots;\n\t\tdata.hasPotting\t= data.pots.length > 0;\n\n\t\treturn data;\n\t}\n\n\tfunction parseSpaces( inputValue )\n\t{\t\n\t\tvar amounts = removeSpaces( inputValue );\n\n\t\tamounts = amounts.map( function checkInput( value )\n\t\t{\n\t\t\treturn parseValue( value );\n\t\t});\n\n\t\treturn amounts;\n\t}\n\n\tfunction removeSpaces( inputValue )\n\t{\n\t\treturn inputValue.split(\" \").filter( function notEmptyString( s )\n\t\t{\n\t\t\treturn String( s ) !== '';\n\t\t});\n\t}\n\n\t/*function potifyNumber( number )\n\t{\n\t\tvar numberLength = String( Number( number ) ).length;\n\n\t\tif ( String( Number( number ) ).length >= 4 ) return parseInt(number;\n\n\t\treturn Math.ceil( Number('.' + number ).toFixed( 4 ) * 10000 );\n\t}*/\n}());",
    "(function()\n{\n\tmodule.exports = function PotDisplayController( domElement )\n\t{\n\t\tvar _potContents \t= {};\t//cache of all .potContents elements\n\t\tvar _container\t\t= domElement;\n\t\tvar _displayNode;// \t= domElement;\n\n\t\tvar alreadyCreated = document.querySelectorAll(\"#pottingDisplay\").length !==0;\n\n\t\tif ( alreadyCreated )\n\t\t{\n\t\t\t//do stuff...\n\t\t\t//return false;\n\t\t}\n\n\t\t//init();\n\n\t\treturn {\n\t\t\tinit\t\t: init,\n\t\t\tupdatePot\t: updatePot,\n\t\t\treset\t\t: reset,\n\t\t\tclear\t\t: clear \n\t\t};\n\n\t\tfunction init( allPotData )\n\t\t{\n\t\t\t//clear();\n\n\t\t\t_displayNode = document.createElement('div');\n\t\t\t_displayNode.className = \"pottingDisplay\";\n\n\t\t\tvar lastnode;\n\t\t\tallPotData.forEach( function( potData, i )\n\t\t\t{\n\t            /*\n\t\t\t\t<div class=\"potContainer\" id=\"pot1\">\n\t                <h1>7600</h1>\n\t                <div class=\"pot\">\n\t                    <div class=\"potContents\"></div>\n\t                </div> \n\t                <h1>7600</h1>   \n\t            </div>\n\t            */\n\n\t\t\t\tvar container \t\t= document.createElement('div');\n\t\t\t\tvar txtContents \t= document.createElement('h2');\n\t\t\t\tvar pot \t\t\t= document.createElement('div');\n\t\t\t\tvar potContents \t= document.createElement('div');\n\t\t\t\tvar txtCapacity \t= document.createElement('h2');\n\n\t\t\t\tcontainer.className = \"potContainer\";\n\t\t\t\tcontainer.id \t\t= \"pot\" + ( i + 1 );\n\n\t\t\t\ttxtContents.innerHTML = 0;\n\t\t\t\ttxtCapacity.innerHTML = potData.capacity;\n\n\t\t\t\ttxtContents.className = 'potText';\n\t\t\t\ttxtCapacity.className = 'potText';\n\n\t\t\t\tpot.className \t\t= \"pot\";\n\t\t\t\tpot.setAttribute('draggable', 'true');\n\t\t\t\tpot.setAttribute('data-id', i + 1);\n\n\t\t\t\tpotContents.setAttribute('data-id', ( i + 1 ));\n\t\t\t\tpotContents.className = \"potContents\";\n\t\t\t\tpotContents.setAttribute('data-product', 'none');\n\t\t\t\t\n\t\t\t\tpot.addEventListener('dragstart', \tonPotDragStart );\n\t\t\t\tpot.addEventListener(\"dragenter\", \tonPotDragEnter );\n\t\t\t\tpot.addEventListener(\"dragover\", \tonPotDragOver );\n\t\t\t\tpot.addEventListener(\"dragleave\", \tonPotDragLeave );\n\t\t\t\tpot.addEventListener('drop', \t\tonPotDrop );\n\t\t\t\tpot.addEventListener('dragend', \tonPotDragEnd );\n\n\t\t\t\tpot.addEventListener(\"wheel\", onMouseWheel );\n\n\t\t\t\t_potContents[ '' + ( i + 1 ) ] = { pot:potContents, text:txtContents, container:pot };\n\t\t\t\t\n\t\t\t\tcontainer.appendChild( txtContents );\n\t\t\t\tcontainer.appendChild( pot );\n\t\t\t\tpot.appendChild( potContents );\n\t\t\t\tcontainer.appendChild( txtCapacity );\t\n\n\t\t\t\t_displayNode.appendChild( container );\n\t\t\t});\n\n\t\t\tinsertSpacesBetweenPots();\n\n\t\t\t_container.appendChild( _displayNode );\n\n\t\t\treturn _displayNode;\n\t\t} \n\n\t\tfunction onMouseWheel( evt )\n\t\t{\n\t\t\tevt.preventDefault();\n\n\t\t\tconsole.log(\"wheeeeel\");\n\t\t}\n\n\t\tfunction onPotDragStart( evt, potContainer )\n\t\t{\n\t\t\tevt.dataTransfer.effectAllowed = 'move';\n\t\t\tevt.dataTransfer.setData('originPotId', evt.target.getAttribute('data-id'));\n  \t\t\tevt.dataTransfer.setData('text/html', this.innerHTML );\n\t\t}\n\n\t\tfunction onPotDragEnter( evt, potContents  )\n\t\t{\n\t\t\tevt.preventDefault();  \n\t\t\t_potContents[ evt.target.getAttribute('data-id') ].container.classList.add('dragOver');\n\t\t}\n\n\t\tfunction onPotDragOver( evt )\n\t\t{\n\t\t\tevt.preventDefault();\n\t\t}\n\n\t\tfunction onPotDragLeave( evt, potContents  )\n\t\t{\n\t\t\tevt.preventDefault();\n\n\t\t\tvar potId = evt.target.getAttribute('data-id');\n\t\t\t_potContents[ potId ].container.classList.remove('dragOver');\n \t\t}\n\n\n\t\tfunction onPotDrop( evt, potContents )\n\t\t{\n\t\t\t//evt.dataTransfer.setData('targetPotId', evt.target.getAttribute('data-id'));\n\t\t\tevt.target.classList.remove('dragOver');\n\t\t\tswapPots( evt.dataTransfer.getData('originPotId'),  evt.target.getAttribute('data-id'));\n\t\t}\n\n\t\tfunction swapPots( pot1, pot2 )\n\t\t{\n\t\t\tvar swapEvent = new CustomEvent(\"swapPots\", { detail:{fromPot:pot1, toPot:pot2 }});\n\n\t\t\t_container.dispatchEvent( swapEvent );\n\t\t}\n\n\t\tfunction onPotDragEnd( evt, potContents )\n\t\t{\n\t\t\n\t\t\tvar origin = evt.dataTransfer.getData('originPotId');\n\n\t\t\tevt.dataTransfer.getData('targetPotId');\n\t\t}\n\n\t\tfunction insertSpacesBetweenPots()\n\t\t{\n\t\t\tvar pots = [].slice.call(_displayNode.children);\n\n\t\t\tvar l = pots.length;\n\n\t\t\tfor ( var i = 1; i  < l; i++ )\n\t\t\t{\n\t\t\t\tvar space = document.createElement( \"span\" );\n\t\t\t\tspace.innerHTML = ' ';\n\t\t\t\t_displayNode.insertBefore( space, pots[i]);\n\t\t\t}\n\t\t}\n\n\t    function updatePot( potData )\n        {\n        \t//console.log( \"PotDisplayController::Filling \" + potData.id + \" with \" + potData.contents + \"/\" + potData.capacity + \" of \" + potData.product );\n\n            var potContents = _potContents[ potData.id ].pot;\n            var potTextContents = _potContents[ potData.id ].text;\n\n            potTextContents.innerHTML = parseInt(potData.contents);\n\n            if ( potData.contents < potData.minimum && potData.contents > 0 )\n            {\n\t\t\t\tpotTextContents.className += \" warningText\";\n            }\n\n            potContents.setAttribute( \"data-product\", potData.product );\n\n            potContents.style.height = Math.round( potData.contents / potData.capacity * 100 ) + \"%\";\n        }\n\n\t\tfunction update( withProductData )\n\t\t{\n\n\t\t}\t\n\n\t\tfunction clear()\n\t\t{\n\t\t\t_potContents = [];\n\n\t\t\tif ( _displayNode )\n\t\t\t{\n\t\t\t\twhile( _displayNode.firstChild )\n\t\t\t\t{\n\t\t\t\t\t_displayNode.removeChild( _displayNode.firstChild );\n\t\t\t\t}\n\n\t\t\t\t_displayNode.parentNode.removeChild( _displayNode );\n\t\t\t\t_displayNode = undefined;\n\t\t\t}\n\t\t}\n\n\t\tfunction reset()\n\t\t{\n\t\t\tfor ( var potId in _potContents )\n\t\t\t{\n\t\t\t\tif ( _potContents.hasOwnProperty( potId ))\n\t\t\t\t{\t\n\t\t\t\t\t_potContents[ potId ].pot.setAttribute('data-product','none');\n\t\t\t\t\t_potContents[ potId ].pot.style.height = 0;\n\n\t\t\t\t\t_potContents[ potId ].text.innerHTML = 0;\n\t\t\t\t\t_potContents[ potId ].text.className = \"potText\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n}());",
    "(function()\n{\n\tvar inputValidator\t\t= require('./InputValidation.js');\n\n\tmodule.exports = function PotInputController( usingDom, availableProducts, availablePots )\n\t{\n\t\tvar _domElement \t= usingDom;\n\t\tvar _inputGroups\t= [].slice.call( _domElement.querySelectorAll( \"[id^='input']\" ));\n\t\tvar _products\t\t= availableProducts;\n\t\t\n\n\t\tinit( availableProducts );\n\n\t\tif ( _inputGroups.length === 0 )\n\t\t{\n\t\t\tconsole.log(\"PotInputController::No inputs\");\n\t\t}\n\n\t\treturn { \tinit: init,\n\t\t\t\t\tupdateProductList: updateProductList,\n\t\t\t\t\tshowProductFeedback: showProductFeedback,\n\t\t\t\t\tclearFeedback: clearFeedback,\n\t\t\t\t\tupdateInput:updateInput };\n\n\t\tfunction updateInput( withInfo )\n\t\t{\n\t\t\tvar txtInput = _domElement.querySelector('#productInput_' + withInfo.id );\n\n\t\t\tif ( !txtInput )\n\t\t\t{\n\t\t\t\tconsole.error(\"Tried to update value of #productInput_\" + withInfo.id + '. Does not exist.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttxtInput.value = parseInt( withInfo.amount );\n\t\t}\n\n\t\tfunction clearFeedback( onlyForProduct )\n\t\t{\n\t\t\tif ( onlyForProduct )\n\t\t\t{\n\t\t\t\tvar inputGroup = _domElement.querySelector(\"#input_\" + onlyForProduct );\n\t\t\t\tinputGroup.className = \"form-horizontal productInputGroup\";\n\t\t\t\tinputGroup.querySelector(\".help-block\").innerHTML = \"\";\t\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t[].slice.call( _domElement.querySelectorAll(\"[id^='input']\")).forEach( function( inputGroup )\n\t\t\t{\n\t\t\t\tinputGroup.className = \"form-horizontal productInputGroup\";\n\t\t\t\tinputGroup.querySelector(\".help-block\").innerHTML = \"\";\n\t\t\t});\n\t\t}\n\n\t\tfunction showProductFeedback( feedback )\n\t\t{\n\t\t\tvar inputGroup = _domElement.querySelector(\"#input_\" + feedback.product );\n\t\t\tvar helperText = inputGroup.querySelector(\".help-block\");\n\n\t\t\thelperText.innerHTML = feedback.message;\n\n\t\t\tinputGroup.classList.add.apply( inputGroup.classList, feedback.classes );\n\t\t}\n\n\t\tfunction getEnteredProductAmounts( putLast )\n        {\n        \t//the product just entered will be potted last\n        \tvar lastProduct;\n\n\t\t\tvar textInput;\n\t\t\tvar parsedAmount;\n\t\t\tvar value;\n\n\t\t\tvar usedInputs = _inputGroups.filter( function removeZeroValues( inputGroup )\n            {\n            \tvar textInput = inputGroup.querySelector(\"[id^=productInput\");\n            \tvalue = textInput.value;\n\n            \treturn value !== '' && value !== 0;\n            })\n\t\t\t.map( function extractValuesFromTextInputs( inputGroup ) \n            {\n            \ttextInput \t\t= inputGroup.querySelector(\"[id^=productInput\");\n\t\t\t\tparsedAmount \t= inputValidator.parseInput( textInput.value );\n            \tparsedAmount.id = textInput.getAttribute(\"id\").split(\"_\")[1];\n\n            \treturn parsedAmount;\n            });\n\n            if ( putLast  )\n            {\n            \tusedInputs = usedInputs.filter( function removeSpecificProduct( inputValues )\n                {\n                \tif ( inputValues.id === putLast )\n                \t{\n                \t\tlastProduct = inputValues;\n                \t\treturn false;                \t\t\n                \t} \n\n                \treturn true;\n                });\n\n                usedInputs.push( lastProduct );\n            }\n\t\t\t\t\n            return usedInputs;\n        }\n\n        function updateProductList( availableProducts )\n        {\n        \tvar usedProductIds = availableProducts.reduce( function getProductIds( list, nextProduct )\n\t\t\t{\n\t\t\t\treturn list + ' ' + nextProduct.id;\n\t\t\t},'');\n\n        \tconsole.log(\"PotInputController:: checking inputs against \" + usedProductIds );\n\n        \t_inputGroups.forEach( function hideUnusedProducts( inputGroup )\n\t\t\t{\n\t\t\t\tvar forProduct\t\t= inputGroup.id.split('_')[1];\n\t\t\t\tvar txtInput\t\t= inputGroup.querySelector(\"[id^=productInput]\");\n\t\t\t\t\n\t\t\t\ttxtInput.onkeypress = function( evt )\n\t\t\t\t{\n\t\t\t\t\treturn inputValidator.isAllowedInput( evt );\n\t\t\t\t};\n\n            \ttxtInput.value      = \"\";\n\n\t\t\t\tif ( usedProductIds.indexOf( forProduct ) < 0 )\n\t\t\t\t{\n\t\t\t\t\tinputGroup.style.display = \"none\";\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tinputGroup.style.display = \"block\";\n\t\t\t\t}\n\t\t\t});\n        }\n\n\t\tfunction init( availableProducts )\n\t\t{\n\t\t\tupdateProductList( availableProducts );\n\n\t\t\t_inputGroups.forEach( function( inputGroup )\n\t\t\t{\n\t\t\t\tinputGroup.addEventListener(\"click\", function( evt )\n\t\t            {\n\t\t            \tvar isFillBtn\t= evt.target.id.split(\"_\")[0] === \"btnFill\";\n\t\t            \tvar isClearBtn \t= evt.target.id.split(\"_\")[0] === \"btnClear\";\n\n\t\t                if ( isFillBtn )\n\t\t                {\tevt.stopPropagation();\n\t\t                \tonFillTanker( this );\t                    \n\t\t                \treturn;\n\t\t                }\n\n\t\t                if ( isClearBtn )\n\t\t                {\n\t\t                \tevt.stopPropagation();\n\t\t                \tonClearProduct( this );\n\t\t                \treturn;\n\t\t                }\n\t\t            });\n\n\n\t\t\t\tinputGroup.addEventListener(\"input\", function( evt )\n\t\t\t\t{\n\t\t\t\t\tif ( evt.target.id.split(\"_\")[0] === \"productInput\" )\n\t\t\t\t\t{\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\tonPotTanker( this );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction onFillTanker( selectedInputGroup )\n\t\t{\n\t\t\tconsole.log(\"PotInputController::onFillTanker()\");\n\n\t\t\tvar txtInput        = selectedInputGroup.querySelector(\"[id^=productInput]\");\n            txtInput.value      = '';\n            var productToFill   = selectedInputGroup.id.split( \"_\" )[ 1 ];\n            var otherProducts\t= getEnteredProductAmounts();\n\n            var detail\t\t\t= { enteredProducts:otherProducts, productToFill:productToFill };\n\n\t\t\tvar fillEvent \t\t= new CustomEvent(\"fillTanker\",{ detail:detail });\n\n            _domElement.dispatchEvent( fillEvent );\n\t\t}\n\n\t\tfunction onPotTanker( selectedInputGroup )\n\t\t{\n\t\t\tconsole.log(\"PotInputController::onPotTanker()\");\n\n            var productToFill   = selectedInputGroup.id.split( \"_\" )[ 1 ];\n            var productValue\t= selectedInputGroup.querySelector(\"#productInput_\" + productToFill ).value;\n            \n            if ( !productValue  )\n            {\n            \tproductToFill = undefined;\n            }\n\n            var enteredProducts\t= getEnteredProductAmounts( productToFill );\n\n            if ( enteredProducts.length === 0 ) return;\n\n            var detail\t\t\t= { enteredProducts : enteredProducts };\n\n\t\t\tvar fillEvent \t\t= new CustomEvent( \"potTanker\",{ detail:detail });\n\n            _domElement.dispatchEvent( fillEvent );\n\t\t}\n\n\t\tfunction onClearProduct( selectedInputGroup )\n\t\t{\n\t\t\tconsole.log(\"PotInputController::onClearProduct()\");\n\t\t\tvar txtInput        = selectedInputGroup.querySelector(\"[id^=productInput]\");\n            txtInput.value      = \"\";\n\n            clearFeedback( selectedInputGroup.id.split(\"_\")[ 1 ]);\n\n            var enteredProducts\t= getEnteredProductAmounts();\n\n            var evt;\n            var detail = { enteredProducts : enteredProducts };\n\n            if ( enteredProducts.length === 0 )\n            {\n            \tevt = new CustomEvent(\"clearTanker\");\n            }\n            else\n            {\n            \tevt = new CustomEvent(\"potTanker\", { detail:detail } );\n            }\n\n            _domElement.dispatchEvent( evt );\n\t\t}\n\n\t\tfunction potifyNumber( number )\n\t\t{\n\t\t\tvar numberLength = String( Number( number ) ).length;\n\n\t\t\tif ( String( Number( number ) ).length >= 4 ) return number;\n\n\t\t\treturn Math.ceil( Number('.' + number ).toFixed( 4 ) * 10000 );\n\t\t}\n\t};\n}());",
    "\n(function()\n{\n\t\"use strict\";\n\n\tvar Utils \t\t\t= require(\"./Utils.js\");\n\tvar PottingSetList\t= require(\"./PottingSetList.js\");\n\tvar PottingResult \t= require(\"./data/PottingResult.js\");\n\tvar PottingSet \t\t= require(\"./PottingSet.js\");\n\n\tmodule.exports = function PottingController( listOfPots )\n\t{\n\t\tvar _basePots   = listOfPots;\n\t\tvar _activePots,_products;\n\t\t\n\t\treturn {\n\t\t\tdoPottingWithProduct\t\t: doPottingWithProduct,\n\t\t\tchangeProductConfiguration\t: changeProductConfiguration\n\t\t};\n\n\t\tfunction changePotConfiguration( potId, changeAmount )\n\t\t{\n\t\t\t\n\t\t}\n\n\t\tfunction changeProductConfiguration( updatedPotArray )\n\t\t{\n\t\t\tvar productsPotted  = Utils.getProductsFromPots( updatedPotArray );\n\n\t\t\tvar potConfiguration = [];\n\t\t\tvar pottingResult;\n\t\t\tvar pottingSet;\n\n\t\t\tfor ( var productId in productsPotted )\n\t\t\t{\t\n\t\t\t\tif ( productsPotted.hasOwnProperty( productId ))\n\t\t\t\t{\n\t\t\t\t\tpottingSet\t\t= PottingSet( productsPotted[ productId ].pots, true );\n\t\t\t\t\tpottingResult\t= new PottingResult( productsPotted[ productId ], pottingSet );\n\n\t\t\t\t\tpotConfiguration.push( pottingResult );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn potConfiguration;\n\t\t}\n\n\t\t//don't perform any calculations on best potting, just create the results objects for the provided potting\n\t\tfunction doPottingWithPots( withProduct, staticPotting )\n\t\t{\n\t\t\t//var \n\t\t}\n\n\t\tfunction doPottingWithProduct( withProduct, withPots, splits )\n\t\t{\n\t\t\t_activePots             = withPots;\n\t\t\tvar productNotPotted \t= 0;\n\t\t\tvar pottingSetUsed;\t\t\t//PottingSet;\n\t\t\tvar usedPottingSet      = '';\n\n\t\t\tvar spaceAvailable\t\t= _activePots.reduce( function ( count, potData )\n\t\t\t{\n\t\t\t\treturn count + potData.capacity;\n\t\t\t}, 0 );\n\n\t\t\tif ( spaceAvailable < withProduct.amount )\n\t\t\t{\n\t\t\t\twithProduct.amount \t= spaceAvailable;\n\t\t\t\tproductNotPotted \t= withProduct.amount - spaceAvailable;\n\t\t\t}\n\n\t\t\tpottingSetUsed\t\t\t= getBestPotsForProduct( _activePots, withProduct );\n\n\t\t\twithProduct.remainder\t= productNotPotted;\n\n\t\t\tvar result\t\t\t\t= new PottingResult( withProduct, pottingSetUsed, productNotPotted );\n\n\t\t\treturn result;\n\t\t}\n\n\t\tfunction getBestPotsForProduct( withPots, product )\n\t\t{\n\t\t\tvar allPotPermutations  = Utils.getPotPermutations( withPots );\n\n\t\t\tvar allPottingSets      = new PottingSetList( allPotPermutations );\n\t\t\t//var allPottingSets      = new PottingSetList( [JSON.parse(JSON.stringify(withPots)), JSON.parse( JSON.stringify( withPots.reverse() ))] );\n\t\t\t//var allPottingSets      = new PottingSetList( [ JSON.parse( JSON.stringify( withPots ))]);\n\t\t\tvar uniquePottingSets   = allPottingSets.sendProductToPottingSets( product );\n\n\t\t\tvar bestPottingSet      = allPottingSets.getBestPottingSet();\n\t\t\t\n\t\t\treturn bestPottingSet;\n\t\t}\n\t};\n}());",
    "(function()\n{\n\t\"use strict\";\n\tvar PRODUCT_DATA_URL\t= './resources/products.json?' + Math.random().toFixed(4);\n\t\n\tvar Terminal\t\t\t= require('./data/Terminal.js');\n\tvar Utils\t\t\t\t= require('./Utils.js');\n\tvar PottingController\t= require('./PottingController.js');\n\tvar PottingResult\t\t= require(\"./data/PottingResult.js\");\n\tvar PottingSet\t\t\t= require(\"./PottingSet.js\");\n\n\tvar _terminals;\n\tvar _currentTerminal;\t\t\t\n\tvar _potting;\t\t\t\t\t//array of pots on the tanker and their content\n\tvar _productConfiguration;\t\t//array of PottingResult objects that contain the PottingSet object used for a product\n\tvar _potter;\t\t\t\t\t//PottingController object that converts products and pots into an array of PottingResults\n\n\tmodule.exports\t\t\t= PottingData;\n\n\tfunction PottingData()\n\t{\t\n\t\t_terminals\t= [];\n\t\t_potting\t= [];\n\n\t\treturn {\tloadProductData:\tloadProductData,\n\t\t\t\t\tchangeTerminal:\t\tchangeTerminal,\n\t\t\t\t\tpotProducts:\t\tpotProducts,\n\t\t\t\t\tchangePotPosition:\tchangePotPosition,\n\t\t\t\t\tgetProductTotals:\tgetProductTotals,\n\t\t\t\t\tbalanceTanker:\t\tbalanceTanker };\n\t}\n\t\n\tfunction loadProductData( onComplete )\n\t{\n\t\tvar xobj = new XMLHttpRequest();\n\t\txobj.overrideMimeType( \"application/json\" );\n\t\txobj.open( 'GET', PRODUCT_DATA_URL, true );\n\t\t\n\t\txobj.onreadystatechange = function () \n\t\t{\n\t\t  if ( xobj.readyState === 4 && xobj.status === 200 ) {\n\t\t\tonProductDataLoaded( xobj.responseText, onComplete );\n\t\t  }\n\t\t};\n\n\t\txobj.send( null );\n\t}\n\n\tfunction changeTerminal( terminalName )\n\t{\n\t\t_currentTerminal\t= _terminals[ terminalName ];\n\t\t_potter\t\t\t\t= new PottingController( _currentTerminal.pots );\n\n\t\tresetPots();\n\n\t\treturn _currentTerminal;\n\t}\n\n\tfunction increasePot( potId )\n\t{\n\n\t}\n\n\tfunction balanceTanker( productToFill, productArray )\n\t{\n\t\tresetPots();\n\n\t\tproductToFill = _currentTerminal.getBalance( productToFill, productArray );\n\n\t\tproductArray.push( productToFill );\n\t\t\n\t\t/*var potsToFill = _potting.filter( function isFixedPot( potData )\n\t\t{\n\t\t\treturn !potData.isFixed;\n\t\t});*/\n\n\t\treturn getPotting( productArray);\n\n\t\t//return getPotting( [ productToFill ], potsToFill.length > 0 ? potsToFill : undefined );\n\t}\n\n\tfunction potProducts( forProducts, limitToPots )\n\t{\n\t\tresetPots();\n\t\treturn getPotting( forProducts, limitToPots );\n\t}\n\n\tfunction getPotting( forProducts, limitToPots )\n\t{\n\t\tvar usedPots\t\t= [];\n\t\tvar availablePots\t= limitToPots ?  limitToPots : _currentTerminal.pots.slice();\n\t\t//var availablePots\t= Utils.getUnusedPots( limitToPots, _currentTerminal.pots.slice() );\n\t\t\n\t\tvar pottingResult;\n\n\t\tforProducts.forEach( function( productDetails )\n\t\t{\n\t\t\tif ( availablePots.length === 0 ) \n\t\t\t{\n\t\t\t\t_productConfiguration.push( new PottingResult( productDetails, PottingSet([]), productDetails.amount ));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tproductDetails\t\t= _currentTerminal.checkWeight( productDetails, usedPots );\n\t\t\tpottingResult\t\t= _potter.doPottingWithProduct( productDetails, availablePots.slice() );\n\t\t\tusedPots\t\t\t= usedPots.concat( pottingResult.pottingUsed.getPotArray() );\n\t\t\tavailablePots\t\t= Utils.getUnusedPots( usedPots, availablePots );\n\n\t\t\t_productConfiguration.push( pottingResult );\n\t\t});\n\n\t\t//put the used pots into the correct position in the _potting array;\n\t\tusedPots.forEach( function( potData )\n\t\t{\t\t\t\n\t\t\t_potting[ potData.id - 1 ] = potData;\n\t\t});\n\n\t\treturn { potsUsed:_potting, pottedProducts: _productConfiguration };\n\t}\n\n\tfunction changePotPosition( fromPotId, toPotId )\n\t{\n\t\tvar fromPot\t\t= _potting[ fromPotId - 1 ];\n\t\tvar toPot\t\t= _potting[ toPotId - 1 ];\n\n\t\tvar fromPotCopy\t= JSON.parse( JSON.stringify( fromPot ));\n\n\t\tfromPot.contents= Math.min( fromPot.capacity, toPot.contents );\n\t\tfromPot.product\t= toPot.product;\n\t\tfromPot.isFixed\t= false;\n\t\t\n\t\ttoPot.contents\t= Math.min( toPot.capacity, fromPotCopy.contents );\n\t\ttoPot.product\t= fromPotCopy.product;\n\t\ttoPot.isFixed\t= true;\n\n\t\t_productConfiguration = _potter.changeProductConfiguration( _potting );\n\n\t\treturn { potsUsed:_potting, pottedProducts: _productConfiguration };\n\t}\n\n\tfunction getProductTotals( filterByProduct )\n\t{\n\t\tvar log = _potting.reduce( function( productInfo, potData )\n\t\t{\n\t\t\tif ( productInfo.hasOwnProperty( potData.product ) )\n\t\t\t{\n\t\t\t\tproductInfo[ potData.product ] += potData.contents;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tproductInfo[ potData.product ] = potData.contents;\n\t\t\t}\n\n\t\t\treturn productInfo;\n\n\t\t}, {} );\n\n\t\treturn log;\n\t}\n\n\tfunction getPotConfig( potting )\n\t{\n\t\treturn _productConfiguration;\n\t}\n\n\t/*======= Private Methods ==========*/\n\t\n\n\tfunction resetPots()\n\t{\n\t\t_potting\t\t\t\t= [];\n\t\t_productConfiguration\t= [];\n\n\t\t_currentTerminal.pots.forEach( function( potData, i )\n\t\t{\n\t\t\t_potting[ i ] = JSON.parse( JSON.stringify( potData ));\n\t\t});\n\t}\n\n\tfunction updatePotting( newPotConfiguration )\n\t{\n\t\t\n\t}\n\n\tfunction onProductDataLoaded( data, onComplete )\n\t{\n\t\tvar terminalData = JSON.parse( data );\n\t\t\n\t\tfor ( var id in terminalData )\n\t\t{\n\t\t\tif ( terminalData.hasOwnProperty( id ) )\n\t\t\t{\n\t\t\t\tvar terminal = new Terminal( id, terminalData[ id ]);\n\t\t\t\t_terminals[ id ] = terminal;\t\n\t\t\t\tconsole.log( _terminals[ id ].toString());\n\t\t\t}\n\t\t}\n\n\t\tif ( onComplete )\tonComplete();\n\t}\n\n\n}());\n",
    "(function(){\n\n\tvar cPottingResult \t= require(\"./data/PottingResult.js\");\n\tvar PottingResult \t= new cPottingResult();\n\tvar pottedProducts \t= {};\n\n\tmodule.exports = PottingResponse;\n\n\tfunction PottingResponse()\n\t{\n\t\treturn {\n\t\t\tgetPottingResponse: getPottingResponse\n\t\t};\n\t}\n\n\tfunction getPottingResponse( pottingResult )\n\t{\n\t\tvar response;\n\t\t\n\t\tif ( pottingResult.pottingUsed.isValid() )\n\t\t{\n\t\t\t//if ( forProduct.remainder > 0 || result.remainder > 0 )\n\t\t\tif ( pottingResult.productDetails.remainder > 0  )\n\t\t\t{\n\t\t\t\tresponse = pottingOverWeight;\n\t\t\t}\n\t\t\telse if ( pottingResult.pottingUsed.getRemainder() > 0 ) \n\t\t\t{\n\t\t\t\tresponse = pottedSomeProduct;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresponse = pottingSuccess;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif ( pottingResult.pottingUsed.getPotArray().length === 0 )\n\t\t\t{\n\t\t\t\tresponse = noPotsLeft;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresponse = pottingFail;\t\n\t\t\t}\n\t\t}\n\n\t\treturn getMessage( pottingResult, response );\n\t}\n\n\tfunction isAlreadyPotted( product, availablePots )\n\t{\n\t\treturn false;\n\t}\n\n\tfunction getMessage( pottingResult, messageFunction )\n\t{\n\t\tvar data \t\t\t= {};\n\n\t\tdata.product \t\t= pottingResult.productDetails.id;\n\t\tdata.potsUsed \t\t= pottingResult.pottingUsed.getPotArray();\n\t\tdata.potIds \t\t= pottingResult.pottingUsed.getUsedPotsById();\n\t\tdata.amountPotted\t= parseInt( pottingResult.productDetails.amount );\n\n\t\treturn messageFunction( data, pottingResult );\n\t}\n\n\tfunction pottingOverWeight( messageData, pottingResult )\n\t{\n\t\tvar amountNeeded \t\t\t= pottingResult.productDetails.amount + pottingResult.productDetails.remainder;\n\t\tmessageData.pottingStatus \t= PottingResult.WARN;\n\t\tmessageData.message \t\t= amountNeeded + \" of \" + messageData.product + \" is over max weight. Reduced by \" + pottingResult.productDetails.remainder + \" to \" + messageData.amountPotted + \"L total.\";\n\n\t\treturn messageData;\n\t}\n\n\n\tfunction noPotsLeft( messageData )\n\t{\n\t\tmessageData.pottingStatus \t= PottingResult.ERROR;\n\t\tmessageData.message \t\t= \"Could not pot \" + messageData.amountPotted + \" of \" + messageData.product + \". No Pots left on tanker\";\n\t\t\n\t\treturn messageData;\n\t}\n\n\tfunction pottingFail( messageData, pottingResult )\n\t{\n\t\tvar pots \t\t\t= messageData.potsUsed;\n\t\tvar failedPot \t\t= pots[ pots.length - 1 ];\n\t\tvar amountNeeded \t= failedPot.minimum - failedPot.contents;\n\n\t\tmessageData.pottingStatus \t= PottingResult.ERROR;\n\t\t\n\t\tmessageData.message \t\t= \"Could not pot \" + messageData.amountPotted + \" of \" + messageData.product + \" as \" + pottingResult.pottingUsed.getSplitsString();\n\n\t\treturn messageData;\n\t}\n\n\tfunction pottingSuccess( messageData, pottingResult )\n\t{\n\t\tmessageData.pottingStatus \t= PottingResult.SUCCESS;\n\t\t\n\t\tmessageData.message \t\t= messageData.amountPotted + \"L of \" + messageData.product + \" potted as \" + pottingResult.pottingUsed.getSplitsString();\n\t\treturn messageData;\n\t}\n\n\tfunction pottedSomeProduct( messageData, pottingResult  )\n\t{\n\t\tmessageData.pottingStatus \t= PottingResult.WARN;\n\t\tmessageData.message \t\t= messageData.amountPotted + \" of \" + messageData.product + \" potted as \" + pottingResult.pottingUsed.getSplitsString();\n\t\tmessageData.message \t\t+= \".\\n \" + pottingResult.remainder  + \" could not be potted.\";\n\n\t\treturn messageData;\n\t}\n}());\t",
    "/* globals debugger:false */\n(function()\n{\n\t\"use strict\";\n\tvar Utils \t\t\t=\trequire(\"./Utils.js\");\n\tvar PotSorter \t\t=\tUtils.PotSorter;\n\t\n\tmodule.exports = function PottingSet( fromPotArr, isFixed )\n\t{\n\t\tvar _isFixed \t\t= isFixed;\n\t    var _pottingArray \t= fromPotArr;// ? fromPotArr : [];\n\t    var _remainder \t\t= 0;\n\t    var _pottingValidator;\n\t    var _isValid;\n\n\t    if ( _isFixed )\t_pottingValidator = StaticPottingSetValidator();\n\t    else\t\t\t_pottingValidator = DynamicPottingSetValidator();\n\t    \n\t    \n\t    return {\n\t        putProductIntoPots      : putProductIntoPots,\n\t        isValid                 : isValid,\n\t        getRemainingSpace       : getRemainingSpace,\n\t        getUsedPotsById         : getUsedPotsById,\n\t        getPotArray             : getPotArray,\n\t        getRemainder\t\t\t: getRemainder,\n\t        getSplitsString \t\t: getSplitsString\n\t    };\n\n\t    function getRemainder()\n\t    {\n\t    \treturn _remainder;\n\t    }\n\n\t    function getPotArray()\n\t    {\n\t        return _pottingArray;\n\t    }\n\n\t    function isValid()\n\t    {\n\t    \tvar result = _pottingValidator.isValid( _pottingArray );\n\t    \treturn result;\n\t    }\t   \n\n\t    function putProductIntoPots( product )\n\t    {\n\t    \tif ( product.splits )\n\t    \t{\t    \t\t\n\t    \t\t_pottingValidator \t\t= StaticPottingSetValidator();\n\t    \t\tvar splitsResult \t\t= _pottingValidator.putProductIntoPots( product, _pottingArray.slice() );\n\t    \t\t\n\t    \t\t_pottingArray \t\t\t= splitsResult.usedPots;\n\n\t    \t\tif ( splitsResult.amountPotted < product.amount )\n\t    \t\t{\n\t    \t\t\tvar remainingProduct \t= {id:product.id, amount: product.amount - splitsResult.amountPotted };\n\t    \t\t\tvar remainingPots \t\t= DynamicPottingSetValidator();\n\t    \t\t\tvar remainingResult \t= remainingPots.putProductIntoPots( remainingProduct, splitsResult.remainingPots );\n\t    \t\t\t\n\t    \t\t\t_pottingArray \t\t\t= splitsResult.usedPots.concat( remainingResult.usedPots );\n\t    \t\t}\n\t    \t}\n\t    \telse\n\t    \t{\n\t    \t\t_pottingValidator\t= DynamicPottingSetValidator();\n\t    \t\tvar result\t\t\t= _pottingValidator.putProductIntoPots( product, _pottingArray.slice() );\n\t    \t\t_pottingArray\t\t= result.usedPots;\n\t    \t}\n\t    }\n\n\t    function getSplitsString()\n\t    {\n\t    \tvar splits = [];\n\n\t    \t_pottingArray.forEach( function( pot )\n\t    \t{\n\t    \t\tsplits.push( Utils.potifyString( String( parseInt( pot.contents ))));\n\t    \t});\n\n\t    \treturn splits.join(\" / \");\n\t    }\n\t    \n\t    function getRemainingSpace()\n\t    {\n\t        return _pottingArray.reduce( function( count, nextPot )\n\t        {\n\t           //return count + nextPot.getCapacity() - nextPot.getContents();\n\t           return count + nextPot.capacity - nextPot.contents;\n\t        }, 0);\n\t    }\n\n\t    function getUsedPotsById()\n\t    {\n\t        _pottingArray.sort( PotSorter.sortPotsById );\n\t        \n\t        return _pottingArray.reduce( function( idList , nextPot  )\n\t        {\n\t            //return idList + nextPot.getId();\n\t            return idList + nextPot.id;\n\t        }, '');\n\t    }\n\t};\n\n\tfunction checkPotCapacityAgainstContents( isWithinRules, potData )\n\t{\n\t\tvar willPot = potData.contents >= potData.minimum;\n\n\t    return isWithinRules && willPot;\n\t}\n\n\tfunction DynamicPottingSetValidator()\n\t{\n\t\treturn { isValid:isValid, putProductIntoPots: putProductIntoPots };\n\n\t\tfunction isValid( forPotting )\n\t    {\n\t    \tif ( forPotting.length === 0 ) return false;\n\n\t        var valid = forPotting.reduce( checkPotCapacityAgainstContents, true );\n\n\t        if ( valid )\n\t        {\n\t            return true;\n\t        } \n\t        else\n\t        {\n\t        \tvar fillData = getPotToFix( forPotting );\n\t            return fixLastPot( fillData.potToFill, fillData.otherPots );\n\t        }\n\t    }\n\n\t    function putProductIntoPots( product, availablePots )\n\t    {\n\t    \tvar usedPots\t\t= [];\n\t        \n\t\t\tproduct.potted\t\t= 0;\n\t\t\tproduct.toPot\t\t= product.amount;\n\n\t\t\tavailablePots.forEach( function( nextPot )\n\t\t\t{\n\t\t\t\tif ( product.amount > product.potted ) \n\t\t\t\t{\n\t\t\t\t\tproduct.potted += fillSinglePot( product, nextPot );\n\t\t\t\t\tusedPots.push( nextPot );\n\t\t\t\t}\n\t\t\t});\n\n\t        return { remainder:product.amount - product.potted, usedPots:usedPots };\n\t    }\n\n\t    function getPotToFix( fromPots )\n\t    {\n\t    \tvar potToFill;\n\t    \tvar pot;\n\t    \tvar otherPots = [];\n\t    \t\n\t    \tfor ( var i = fromPots.length - 1; i >= 0; i--) \n\t    \t{\n\t    \t\tpot = fromPots[i];\n\n\t    \t\tif ( pot.contents >= pot.minimum )\n\t    \t\t{\n\t    \t\t\totherPots.push( pot );\n\t    \t\t}\n\t    \t\telse\n\t    \t\t{\n\t    \t\t\tif ( potToFill )\n\t    \t\t\t{\n\t    \t\t\t\tdebugger;\n\t    \t\t\t\tconsole.log(\"SOMETHIGN HAS GONE WRONG!!\");\n\t    \t\t\t}\n\n\t    \t\t\tpotToFill = pot;\n\t    \t\t}\n\t    \t}\n\n\t    \treturn { potToFill:potToFill, otherPots:otherPots };\n\t    }\n\n\t    function fillSinglePot( withProduct, pot )\n\t    {\n\t        pot.product \t= withProduct.id;\n\t        var leftToPot \t= withProduct.amount - withProduct.potted;\n\n\t    \tif ( pot.isFixed ) return 0;\n\n\t        if ( pot.capacity > leftToPot  )\n\t        {\n\t            pot.contents = leftToPot;\n\t\t\t}\n\t        else\n\t        {\n\t            pot.contents = pot.capacity;\n\t        }\n\n\t        return pot.contents;\n\t    }\n\n\t    function fixLastPot( lastPot, remainingPots)\n\t    {\n\t\t\tvar needed = lastPot.minimum - lastPot.contents;\n\n\t        var amountToMove;\n\t        var helperPot;\n\n\t        remainingPots.sort( PotSorter.sortPotsByAmountMoveable );\n\n\t        for ( var i = 0; i < remainingPots.length; i++ )\n\t        {\n\t            helperPot = remainingPots[ i ];\n\n\t            if ( helperPot.isFixed ) continue;\n\n\t            if ( helperPot.contents - needed > helperPot.minimum )\n\t            {\n\t                amountToMove = helperPot.contents - ( helperPot.contents - needed );\n\t            }\n\t            else\n\t            {\n\t                amountToMove = helperPot.contents  - helperPot.minimum;\n\t            }\n\n\t            needed              -= amountToMove;\n\t            helperPot.contents  -= amountToMove;\n\t            lastPot.contents    += amountToMove;\n\n\t            if ( lastPot.contents >= lastPot.minimum ) \n\t            {\n\t            \treturn true;\n\t            }\n\t        }\n\n\t        return false;\n\t    }\n\t}\n\n\tfunction StaticPottingSetValidator()\n\t{\n\t\treturn { isValid:isValid, putProductIntoPots: putProductIntoPots };\n\n\t\tfunction isValid( forPotting )\n\t    {\n\t    \tif ( forPotting.length === 0 ) return false;\n\n\t        var valid = forPotting.reduce( checkPotCapacityAgainstContents, true );\n\n\t        if ( valid )\n\t        {\n\t            return true;\n\t        } \n\t        else\n\t        {\n\t            return false;\n\t        }\n\t    }\n\n\t    function putProductIntoPots( product, availablePots )\n\t    {\n\t\t\tvar fixedPots \t\t= [];\n\t\t\tvar amountPotted \t= 0;\n\t\t\tvar usedPots \t\t= [];\n\t\t\t\n\t\t\t\n\t\t\t//The smallest pot split will give the most wasted space, sort in ascending order to reduce this.\n\t    \tvar splits = product.splits.sort( function( a, b )\n    \t\t{\n    \t\t\treturn parseInt( a ) - parseInt( b );\n    \t\t});\n\n    \t\tsplits.forEach( function assignPot( split )\n    \t\t{\n    \t\t\tvar bestPot \t\t= getBestPotForSplit( split, availablePots );\n    \t\t\tbestPot.product \t= product.id;\n    \t\t\tbestPot.contents \t= Math.min( split, bestPot.capacity );\n    \t\t\tbestPot.isFixed \t= true;\n    \t\t\tamountPotted \t\t+= bestPot.contents;\n\n    \t\t\tusedPots.push( bestPot );\n\n    \t\t\tavailablePots = Utils.getUnusedPots( usedPots, availablePots );\n    \t\t});\n\n\t    \treturn { usedPots:usedPots, amountPotted:amountPotted, remainingPots:availablePots };\n\t    }\n\n\t    function getBestPotForSplit( split, availablePots )\n\t\t{\n\t\t\tvar OK \t\t\t\t= 0;\n\t\t\tvar MUST_INCREASE \t= 1;\n\t\t\tvar MUST_REDUCE \t= 2;\n\t\t\t\n\t\t\tvar bestPot;\n\t\t\tvar comparison;\n\t\t\tvar checkingArr = [];\n\n\t\t\t//console.log( \"Finding Best Pot for split \" + split );\n\n\n\t\t\tavailablePots.forEach( function( potData )\n\t\t\t{\n\t\t\t\tcomparison\t\t\t= {};\n\t\t\t\tcomparison.potData\t= potData;\n\t\t\t\t//comparison.diff\t\t= Math.abs( potData.capacity - split );\n\t\t\t\t \n\t\t\t\tif ( split > potData.capacity )\n\t\t\t\t{\n\t\t\t\t\tcomparison.status\t= MUST_REDUCE;\n\t\t\t\t\tcomparison.diff\t\t= split - potData.capacity;\n\t\t\t\t}\n\t\t\t\telse if ( split < potData.minimum )\n\t\t\t\t{\n\t\t\t\t\tcomparison.status\t= MUST_INCREASE;\n\t\t\t\t\tcomparison.diff\t\t= potData.minimum - split;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tcomparison.status \t= OK;\n\t\t\t\t\tcomparison.diff\t\t= potData.capacity - split;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcheckingArr.push( comparison );\n\t\t\t});\n\n\t\t\tcheckingArr.sort( Utils.PotSorter.sortPotsByBestFit );\n\n\t\t\t/*console.log( \"best pot is :\");\n\t\t\tconsole.log( checkingArr[0] );\n\t\t\tconsole.log( checkingArr[0].potData );*/\n\n\t\t\treturn checkingArr[0].potData;\n\t\t}\n\t}\n}());",
    "(function()\n{\n\t\"use strict\";\n\t\n\tvar PotSorter = require('./Utils.js').PotSorter;\n\tvar PottingSet = require('./PottingSet.js');\n\n\tmodule.exports = function PottingSetList( withListOfPots )\n\t{\n\t   var _listOfPottingSets = withListOfPots.map( function( potArray ) \n\t    {\n\t        return PottingSet( potArray );\n\t    });\n\n\t   var _validPottingSets;\n\n\t    return {\n\t        sendProductToPottingSets    : sendProductToPottingSets,\n\t        getBestPottingSet:getBestPottingSet \n\t    };\n\n\t    function removeDuplicates()\n\t    {\n\t        var uniquePotCombos = [];\n\t        var listOfPotCombos = {};\n\t        var debugCounter \t= 0;\n\n\t        _listOfPottingSets.forEach ( function( pottingSet )\n\t        {\n\t            debugCounter++;\n\n\t            var usedPotIds = pottingSet.getUsedPotsById();\n\n\t            if ( listOfPotCombos[ usedPotIds ] )\n\t            {\n\t                listOfPotCombos[ usedPotIds ].push( pottingSet );\n\t            }\n\t            else\n\t            {\n\t                listOfPotCombos[ usedPotIds ] = [ pottingSet ];\n\t                uniquePotCombos.push( pottingSet );\n\t            }   \n\t        });\n\n\t        _listOfPottingSets = uniquePotCombos;\n\t    }\n\n\t    function sendProductToPottingSets( product, potCombinations )\n\t    {  \n\t        _listOfPottingSets.forEach( function( pottingSet )\n\t        {  \n\t        \tpottingSet.putProductIntoPots( {id:product.id, amount:product.amount, splits:product.pots });\n\t        });\n\n\t        removeDuplicates();\n\t        removeInvalid();\n\n\t        //getBestPottingSet();\n\t        _listOfPottingSets.sort( PotSorter.sortPotSetsByRemainder );\n\n\t        return _listOfPottingSets;\n\t    }\n\n\t    function removeInvalid()\n\t    {\n\t        _validPottingSets = _listOfPottingSets.filter( function( pottingSet )\n\t        {\n\t            if ( pottingSet.isValid() )\n\t            {\n\t                return true;\n\t            }\n\t        });\n\n\t        _validPottingSets.sort( PotSorter.sortPotSetsByRemainder );\n\n\t        var debugResult = _validPottingSets.map( function( pottingSet )\n\t        {\n\t        \treturn pottingSet.getUsedPotsById() + \": \" + pottingSet.getRemainingSpace();  \n\n\t\t\t\t/*return pottingSet.getPotArray.reduce( function( potString, pots )\n\t\t\t\t{\n\t\t\t\t\treturn \n\t\t\t\t}, )\t        \t*/\n\t        });\n\n\t       // console.table( debugResult );\n\t    }\n\n\t    function getBestPottingSet()\n\t    {\n\t    \tif ( _validPottingSets.length > 0 )\n\t    \t{\n\t    \t\treturn _validPottingSets[ 0 ];\n\n\t    \t}\n\t    \telse\n\t    \t{\n\t    \t\t//best failure;\n\t    \t\t_listOfPottingSets.sort( PotSorter.sortPotSetsByRemainder );\n\t    \t\treturn _listOfPottingSets[ 0 ];\n\t    \t}\n\t\t}\n\t};\n}());",
    "(function()\n{\n\tmodule.exports = Tabs;\n\n\tfunction Tabs( domNode )\n\t{\n\t\tvar _tabs = [];\n\t\tvar _domElement;\n\n\t\tinit( domNode );\n\n\t\t//return { init: init };\n\n\t\tfunction init( withDom )\n\t\t{\n\t\t\t_domElement = withDom;\n\n\t\t\t_tabs = [].slice.call( _domElement.querySelectorAll('li'));\n\n\t\t\t_tabs.forEach( function( tab )\n\t\t\t{\n\t\t\t\ttab.addEventListener('click', function( evt )\n\t\t\t\t{\n\t\t\t\t\tonTabClicked( evt );\t\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tfunction onTabClicked( evt )\n\t\t{\n\t\t\t_tabs.forEach( function( tab )\n\t\t\t{\n\t\t\t\ttab.className = '';\n\t\t\t});\n\n\t\t\tevt.currentTarget.className = 'tabActive';\n\t\t\tvar terminal = evt.currentTarget.id.split(\"_\")[1];\n\n\t\t\tvar changeEvent = new CustomEvent(\"onChangeTerminal\",{detail:terminal});\n\n\t\t\t_domElement.dispatchEvent( changeEvent );\n\t\t}\n\t}\n}());",
    "(function()\n{\n\t\"use strict\";\n\t\n\texports.getPotPermutations =  function getPotPermutations( fromList )\n\t{\n\t    var permArr     = [];\n\t    var usedChars   = [];\n\n\t    function permute( input ) \n\t    {\n\t        var i, ch;\n\n\t        for (i = 0; i < input.length; i++ ) \n\t        {\n\t            ch = input.splice(i, 1)[0];\n\t            usedChars.push(ch);\n\n\t            if ( input.length === 0 ) \n\t            {\n\t                permArr.push( JSON.parse( JSON.stringify( usedChars )));\n\t            }\n\n\t            permute( input );\n\t            \n\t            input.splice(i, 0, ch);\n\t            usedChars.pop();\n\t        }\t\n\t        \n\t        return permArr;\n\t    }\n\n\t    return permute( fromList );\n\t};\n\n\texports.getProductsFromPots = function( usedPots )\n\t{\n\t\treturn usedPots.reduce( function getPotConfiguration( configData, potData )\n\t\t{\n\t\t\t\t//ignore empty pots\n\t\t\t\tif ( !potData.contents ) return configData;\n\n\t\t\t\tif ( !configData.hasOwnProperty( potData.product ) )\n\t\t\t\t{\n\t\t\t\t\tconfigData[ potData.product ]\t\t= {};\n\t\t\t\t\tconfigData[ potData.product ].pots \t= [];\n\t\t\t\t\tconfigData[ potData.product ].id \t= potData.product;\n\t\t\t\t\tconfigData[ potData.product ].amount= 0;\n\t\t\t\t}\n\n\t\t\t\tconfigData[ potData.product ].pots.push( potData );\n\t\t\t\tconfigData[ potData.product ].amount += potData.contents;\n\t\t\t\t\n\t\t\t\treturn configData;\n\t\t},{});\n\t};\n\n\texports.potifyString = function( s )\n\t    {\n\t    \tvar isTrailingZero = true;\n\t    \tvar splits = '';\n\t    \tvar charAt;\n\n\t    \tfor ( var i = s.length - 1; i >= 0; i-- )\n\t    \t{\n\t    \t\tcharAt = s.charAt( i );\n\n\t    \t\tif ( parseInt( charAt ) > 0 )\n\t    \t\t{\n\t    \t\t\tisTrailingZero = false;\n\t    \t\t}\n\n\t    \t\tif ( isTrailingZero && charAt === '0' ) continue;\n\n\t    \t\tsplits += charAt;\n\n\t    \t}\n\n\t    \t//return splits;//.split(\"\").reverse().join(\" /\");\n\t    \treturn splits.split(\"\").reverse().join(\"\");\n\t    };\n\n\texports.potifyNumber = function( number )\n\t{\n\t\tvar numberLength = String( Number( number ) ).length;\n\n\t\tif ( String( Number( number ) ).length >= 4 ) return parseInt( number );\n\n\t\treturn Math.ceil( Number('.' + number ).toFixed( 4 ) * 10000 );\n\t};\n\n\texports.copyPotArray = function( pots )\n\t{\n\t\tvar newPots = pots.map( function( potDataObj )\n\t\t{\n\t\t\treturn JSON.parse( JSON.stringify( potDataObj ));\n\t\t});\n\n\t\treturn newPots;\n\t};\n\n    exports.getUnusedPots = function( usedPots, availablePots )\n    {\n    \tif ( !usedPots )\t\t\t\treturn availablePots;\n    \tif ( usedPots.length === 0 )\treturn availablePots;\n\n    \tvar usedPotIds = usedPots.reduce( function( idString, potData )\n\t\t{\t\n\t\t\treturn idString + potData.id;\n    \t}, '');\n\n        return availablePots.filter( function( potData )\n        {\n            if (  usedPotIds.indexOf( potData.id ) === -1 )\n            {\n                return true;\n            }\n        });\n    };\n\n\texports.getPotString = function getPotString( pots )\n    {\n        return pots.reduce( function( debugString, potData )\n        {   \n            return debugString+ \"[\" + potData.id +\"]:\" + potData.contents + \"/\" + potData.capacity + \" \" + potData.product;\n        },'');\n    };\n\n\texports.PotSorter = {\n\n\t    sortPotsByAmountMoveable: function sortPotSetByAmountMoveable( aPot, bPot )\n\t    {\n\t    \tif ( aPot.isFixed && bPot.isFixed ) return 0;\n\n\t    \tif ( aPot.isFixed ) return 1;\n\n\t    \tif ( bPot.isFixed ) return -1;\n\n\t        return ( bPot.capacity - bPot.minimum ) - ( aPot.capacity - aPot.minimum );\n\t    },\n\n\t    sortPotsById: function sortPotSetById( a, b )\n\t    {        \n\t        return a.id - b.id;\n\t    },\n\n\t    sortPotSetsByRemainder: function sortPotSetsByRemainder( aPottingSet, bPottingSet  )\n\t    {   \n\t    \tvar aRemainder = aPottingSet.getRemainingSpace();\n\t    \tvar bRemainder = bPottingSet.getRemainingSpace();\n\n\t    \t/*if ( aRemainder === bRemainder )\n\t    \t{\n\t    \t\treturn getClosenessRating( aPottingSet ) - getClosenessRating( bPottingSet )\n\t    \t}*/\n\n\t        return aRemainder - bRemainder;\n\t    },\n\n\t    /*\tpotData.status =  \t0 : OK\n\t    \t\t\t\t\t\t1 : Need to increase contents \n\t    \t\t\t\t\t\t2 : Need to decrease contents\n\n\t    \tpotData.diff = absolute difference between pot min/max and intended contents\n\t    */ \n\t    sortPotsByBestFit : function sortPotsByBestFit( potA, potB )\n\t\t{\n\t\t\tif ( potA.status === potB.status )\treturn potA.diff - potB.diff;\n\t\t\telse\t\t\t\t\t\t\t\treturn potA.status - potB.status;\n\t\t}\n\t};\n}());",
    "(function()\n{\n\tmodule.exports = ViewController;\n\n\tvar PotDisplayController    = require(\"./PotDisplayController.js\");\n    var PotInputController      = require(\"./PotInputController.js\");\n    var cPottingResult \t\t\t= require(\"./data/PottingResult.js\");\n    var PottingResult \t\t\t= new cPottingResult();\n    var Tabs                    = require('./Tabs.js');\n\n\tvar _formController;\n\tvar _pottingDisplay;\n\tvar _tabController;\n\tvar _tabs;\n\n\tvar _domElements;\n\n\tfunction ViewController( withDom )\n\t{\n\t\t_domElements = withDom;\n\n\t\treturn { \tinit: \t\t\tinit, \n\t\t\t\t\tupdateTerminal: updateTerminal,\n\t\t\t\t\tshowResults: \tshowResults,\n\t\t\t\t\tshowFeedback: \tshowFeedback,\n\t\t\t\t\tupdateProductInputs:updateProductInputs };\n\t}\n\n\tfunction updatePotting( potDataArray )\n\t{\n\t\t\n\t}\n\n\tfunction showResults( potDataArray, messages  )\n\t{\n\t\t_pottingDisplay.reset();\n\n\t\tif ( potDataArray )\n\t\t{\n\t\t\tpotDataArray.forEach( function( singlePotData )\n\t        {\n\t            _pottingDisplay.updatePot( singlePotData );\n\t        });\n\t\t}\n\n\t\tif ( messages )\n\t\t{\n\t\t\t\n\t\t}\n\t}\n\n\tfunction updateProductInputs( productData )\n\t{\n\t\tfor ( var prodId in productData )\n\t\t{\n\t\t\tif ( productData.hasOwnProperty( prodId ))\n\t\t\t{\n\t\t\t\t_formController.updateInput( { id:prodId, amount: productData[ prodId ] });\t\t\t\t\t\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\n\tfunction showFeedback( messageList )\n\t{\n\t\tvar classes = [];\n\n\t\tclasses[ PottingResult.SUCCESS \t] = [ \"has-success\",\"has-feedback\"];\n\t\tclasses[ PottingResult.ERROR \t] = [ \"has-error\",\"has-feedback\"];\n\t\tclasses[ PottingResult.WARN \t] = [ \"has-warning\",\"has-feedback\"];\n\n\t\t_formController.clearFeedback();\n\n\t\tmessageList.forEach( function( messageData )\n\t\t{\n\t\t\tmessageData.classes \t= classes[ messageData.pottingStatus ];\n\t\t\t//using apply allows us to pass an array of arguments to be called as ordered function params\n\t\t\t//messageDiv.classList.add.apply( messageDiv.classList, classes[ messageData.pottingStatus ]);\n\n\t\t\t_formController.showProductFeedback( messageData );\n\t\t});\n\t}\n\n\tfunction updateTerminal( withPots, withProducts )\n\t{\n\t\t_formController.updateProductList( withProducts );\n\t\t_pottingDisplay.clear();\n\t\t_pottingDisplay.init( withPots );\n\t}\n\n\tfunction init( usingPots, usingProducts )\n\t{\n\t\tvar formNode        = _domElements.querySelector(\"#productInputs\");\n\t\tvar potDisplayNode  = _domElements.querySelector(\"#pottingContainer\");\n\t\tvar tabsNode\t\t= _domElements.querySelector(\".tabs\");\n\n\t\t_formController \t= new PotInputController( formNode, usingProducts );\n\t\t_pottingDisplay     = new PotDisplayController( potDisplayNode );\n\t\t_tabs \t\t\t\t= new Tabs( tabsNode );\n       \n\t\tupdateTerminal( usingPots, usingProducts );\n       \t\n       \ttabsNode.addEventListener(\"onChangeTerminal\", onChangeTerminal );\n        formNode.addEventListener(\"clearTanker\", onClearTankerSelected );\n\t}\n\n\tfunction onChangeTerminal( evt )\n\t{\n\t\tconsole.log(\"Changed!\" + evt.detail);\n\t}\n\n\n\tfunction onClearTankerSelected( evt )\n\t{\n\t    console.log(\"Removing Product from tanker. Products Left: \");\n\t    _pottingDisplay.reset();\n\t}\n}());\n",
    "/* globals PottingSetList:false, PottingController:false \n# sourceMappingURL=./app.js.map\n*/\n(function()\n{   \n\t\t\tvar PottingData             = require('./PottingData.js');\n\t\t\tvar ViewController          = require(\"./ViewController.js\");\n\t\t\tvar PottingResponder \t\t= require('./PottingResponse.js');\n\n\t\t\tvar data;\n\t\t\tvar view;\n\t\t\tvar responder;\n\n\t\t\twindow.onload   = function()\n\t\t\t{\n\t\t\t\tdata                = PottingData();\n\t\t\t\tview                = ViewController( document.querySelector(\".content\") );\n\t\t\t\tresponder\t\t\t= PottingResponder();\n\n\t\t\t\tdata.loadProductData( onProductDataLoaded );\n\t\t\t\t\n\t\t\t\tdocument.querySelector(\"#productInputs\").addEventListener(\"fillTanker\", onBalanceTankerSelected );\n\t\t\t\tdocument.querySelector(\"#productInputs\").addEventListener(\"potTanker\", onPotTankerSelected );                \n\t\t\t\tdocument.querySelector(\".tabs\").addEventListener(\"onChangeTerminal\", onChangeTerminal );\n\t\t\t\tdocument.querySelector(\"#pottingContainer\").addEventListener(\"swapPots\", onSwapPotContents );\n\t\t\t};\n\n\t\t\tfunction onChangeTerminal( evt )\n\t\t\t{\n\t\t\t\tconsole.log(\"Changing terminal to \" + evt.detail );\n\n\t\t\t\tvar newTerminal = data.changeTerminal( evt.detail );\n\t\t\t\t\t\n\t\t\t\tview.updateTerminal( newTerminal.pots, newTerminal.products );\n\t\t\t}\n\n\t\t\tfunction onProductDataLoaded( )\n\t\t\t{\n\t\t\t\tvar currentTerminal = data.changeTerminal( \"bramhall\" );\n\n\t\t\t\tview.init( currentTerminal.pots, currentTerminal.products );\n\t\t\t}\n\n\t\t\tfunction onPotTankerSelected( evt )\n\t\t\t{\t\n\t\t\t\tvar pottingResult   = data.potProducts( evt.detail.enteredProducts );\n\n\t\t\t\tshowPotting( pottingResult );\n\t\t\t}\n\n\t\t\tfunction onBalanceTankerSelected( evt )\n\t\t\t{\n\t\t\t\tconsole.log(\"app.js:: Balance Tanker\" + Math.random().toFixed(4));\n\n\t\t\t\tvar pottingResult = data.balanceTanker( evt.detail.productToFill ,evt.detail.enteredProducts );\n\n\t\t\t\tshowPotting( pottingResult );\n\t\t\t\tvar totals = data.getProductTotals();\n\n\t\t\t\tvar prodToUpdate = {};\n\t\t\t\t\n\t\t\t\tprodToUpdate[ evt.detail.productToFill ] = totals[ evt.detail.productToFill ];\n\n\t\t\t\tview.updateProductInputs( prodToUpdate );\n\t\t\t}\n\n\t\t\tfunction showPotting( pottingResult )\n\t\t\t{\n\t\t\t\tvar  messages = [];\n\n\t\t\t\tpottingResult.pottedProducts.forEach( function( result )\n\t\t\t\t{\n\t\t\t\t\tmessages.push( responder.getPottingResponse( result ));\n\t\t\t\t});\n\n\t\t\t\tview.showResults( pottingResult.potsUsed );\n\t\t\t\t\n\t\t\t\tview.showFeedback( messages );\n\t\t\t}\n\n\t\t\tfunction onIncreasePotContents( evt )\n\t\t\t{\n\t\t\t\tvar pottingResult = data.increasePot( evt.detail.potId );\n\t\t\t}\n\n\t\t\tfunction onSwapPotContents( evt )\n\t\t\t{\n\t\t\t\tvar pottingResult = data.changePotPosition( evt.detail.fromPot, evt.detail.toPot );\n\n\t\t\t\tview.showResults( pottingResult.potsUsed );\n\n\t\t\t\tshowPotting( pottingResult );\n\n\t\t\t\t//view.updateProductInputs( data.getProductTotals() );\n\t\t\t}\n\n\n\t\t\t\n}());            ",
    "(function()\n{\n\tPottingResult.prototype.SUCCESS = 0;\n\tPottingResult.prototype.ERROR \t= 1;\n\tPottingResult.prototype.WARN \t= 2;\n\n\tmodule.exports = PottingResult;\n\n\tfunction PottingResult( forProduct, pottingSetUsed, productLeftOver )\n\t{\n\t\tthis.pottingUsed \t= pottingSetUsed;\n\t\tthis.productDetails = forProduct;\n\t\tthis.remainder \t\t= productLeftOver;\n\t}\n\n\tfunction updatePot( potId )\n\t{\n\t\t\n\t}\n}());",
    "(function()\n{\t\n\t\"use strict\";\n\n            /*var basePots    = [   {id:1,capacity:7600, contents:0, product:\"\", minimum:7500},\n                                    {id:2,capacity:7600, contents:0, product:\"\", minimum:6600},\n                                    {id:3,capacity:7000, contents:0, product:\"\", minimum:3500},\n                                    {id:4,capacity:7600, contents:0, product:\"\", minimum:3800},\n                                    {id:5,capacity:6000, contents:0, product:\"\", minimum:3000},\n                                    {id:6,capacity:7000, contents:0, product:\"\", minimum:6000}];*/\n\n\tmodule.exports = Terminal;\n\n\tTerminal.prototype.switchTanker = function ( tankerName )\n\t{\t\t\n\t\tvar activeTanker;\n\n\t\tthis.tankers.forEach( function getTanker( tankerData )\n\t\t{\n\t\t\tif ( tankerName === tankerData.name )\n\t\t\t{\n\t\t\t\tactiveTanker = tankerData;\n\t\t\t}\n\t\t});\n\n\t\tif ( !activeTanker )\n\t\t{\n\t\t\tactiveTanker = this.tankers[0];\n\t\t}\n\t\t\n\t\tthis.pots\t\t\t= activeTanker.pots;\n\t\tthis.maxWeight\t\t= activeTanker.maxWeight;\n\t};\n\n\tTerminal.prototype.parseTankerData = function ( tankerData )\n\t{\n\t\tvar dataObj\t\t\t= {};\n\t\tdataObj.name\t\t= tankerData.name;\n\t\tdataObj.maxWeight\t= parseInt(tankerData.max_prod_weight);\n\t\tdataObj.pots\t\t= this.parsePotData( tankerData.pots );\n\n\t\treturn dataObj;\n\t};\n\n\tTerminal.prototype.parsePotData = function( potArray )\n\t{\n\t\tvar pots = [];\n\n\t\tfor ( var i = 0; i < potArray.length; i++ )\n\t\t{\n\t\t\tpots.push({\tid:\t\t\ti+1,\n\t\t\t\t\t\tcapacity:\tthis.potifyNumber( potArray[i].max ),\n\t\t\t\t\t\tminimum:\tthis.potifyNumber( potArray[i].min ), \n\t\t\t\t\t\tcontents:\t0,\n\t\t\t\t\t\tproduct:\t'' });\n\t\t}\n\n\t\treturn pots;\n\t};\n\n\tfunction Terminal( id, data )\n\t{\n\t\tthis.name\t\t= id;\n\t\tthis.pots\t\t= [];\n\t\tthis.maxWeight\t= 30000;\n\t\tthis.tankers\t= [];\n\n\t\tthis.potIds\t\t= '';\n\t\tthis.productIds\t= '';\n\t\tthis.products\t= [];\n\n\t\tfor ( var i = 0; i < data.pot_configs.length; i++ )\n\t\t{\n\t\t\tthis.tankers.push( this.parseTankerData( data.pot_configs[ i ] ));\n\t\t}\n\n\t\tfor ( var product in data.products )\n\t\t{\n\t\t\tif ( data.products.hasOwnProperty(product))\n\t\t\t{\n\t\t\t\tthis.products.push({id:product, name:data.products[product].name,density:data.products[product].density });\n\t\t\t\tthis.productIds += product + \" \";\n\t\t\t}\n\t\t}\n\n\t\tthis.switchTanker();\n\t\tconsole.log(\"Terminal Created\");\n\n\t}\n\n\t//Convert 3 to 3000, 69 to 6900 etc\n\tTerminal.prototype.potifyNumber = function( number )\n\t{\n\t\tif ( String( Number( number ) ).length === 4 ) return number;\n\n\t\treturn Math.ceil( Number('.' + number ).toFixed(4) * 10000 );\n\t};\n\n\tTerminal.prototype.toString = function()\n\t{\n\t\tvar s = \"-------\" + this.name +\"-------\\n\";\n\t\ts+= \"Pots: \" + this.potIds + \"\\n\";\n\t\ts+= \"Products: \" + this.productIds + \"\\n\";\n\t\t\n\t\treturn s;\n\t};\n\n\n\tTerminal.prototype.getProductData = function( forProduct )\n\t{\n\t\tfor ( var i = 0; i < this.products.length;i++ )\n\t\t{\n\t\t\tif ( this.products[i].id === forProduct )\n\t\t\t{\n\t\t\t\treturn this.products[ i ];\n\t\t\t}\n\t\t}\n\t};\n\n\tTerminal.prototype.getTankerCapacity = function()\n\t{\n\t\tvar capacity = this.pots.reduce( function( amount, potData )\n\t\t{\n\t\t\treturn amount + potData.capacity;\n\t\t},0);\n\n\t\treturn capacity;\n\t};\n\n\tTerminal.prototype.getBalance = function( productToBalance, otherProducts )\n\t{\n\t\tvar weight = 0;\n\n\t\tfor ( var i = 0; i < otherProducts.length; i++ ) \n\t\t{\n\t\t\tweight += this.getProductData( otherProducts[ i ].id ).density * otherProducts[ i ].amount;\n\t\t}\n\n\t\tvar litresAvailable = Math.max( this.maxWeight - weight, 0 ) *  ( 1 / this.getProductData( productToBalance ).density );\n\n\t\treturn {id:productToBalance, amount: litresAvailable };\n\t};\n\n\t//Checks the weight of an amount of product and will reduce it to a number of litres that is below the maximum weight.\n\t//If products have already been potted then this function will subtract the already potted weight from the maximum allowed weight first.\n\tTerminal.prototype.checkWeight = function( productToPot, alreadyPotted )\n\t{\n\t\tvar currentWeight = 0;\n\t\tvar maxWeight;\n\t\tvar toPotDensity;\n\t\tvar litresAvailable;\n\n\t\tif ( alreadyPotted )\n\t\t{\t\n\t\t\tfor ( var i = 0; i < alreadyPotted.length; i++ )\n\t\t\t{\n\t\t\t\tcurrentWeight += this.getProductData( alreadyPotted[ i ].product ).density * alreadyPotted[ i ].contents;\n\t\t\t}\n\t\t}\n\n        toPotDensity = this.getProductData( productToPot.id ).density;\n\n        if ( toPotDensity * productToPot.amount + currentWeight > this.maxWeight )\n        {\n            litresAvailable\t\t\t= Math.max( this.maxWeight - currentWeight, 0 ) *  ( 1 / toPotDensity );\n            productToPot.remainder\t= productToPot.amount - litresAvailable;\n            productToPot.amount\t\t= litresAvailable;\n        }\n\n        return productToPot;\n\t};\n\n}());"
  ]
}